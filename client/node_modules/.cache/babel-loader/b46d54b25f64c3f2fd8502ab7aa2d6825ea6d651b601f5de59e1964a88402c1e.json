{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhanu\\\\OneDrive\\\\Desktop\\\\Major__Project\\\\Heart_Guard\\\\client\\\\src\\\\pages\\\\History.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Clock, Heart, Download, Eye, Search, TrendingUp, TrendingDown, AlertTriangle } from \"lucide-react\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst History = () => {\n  _s();\n  const navigate = useNavigate();\n  const [predictions, setPredictions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterRisk, setFilterRisk] = useState(\"all\");\n  const [sortBy, setSortBy] = useState(\"date\");\n  useEffect(() => {\n    fetchHistory();\n  }, []);\n  const fetchHistory = async () => {\n    try {\n      const res = await fetch(\"/api/prediction/history\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const data = await res.json();\n      const list = Array.isArray(data.predictions) ? data.predictions : [];\n      setPredictions(list);\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Failed to load history\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getRiskLevel = p => {\n    const prob = Number(p);\n    if (prob < 0.3) return {\n      level: \"Low\",\n      color: \"text-green-600\",\n      bg: \"bg-green-100\"\n    };\n    if (prob < 0.7) return {\n      level: \"Moderate\",\n      color: \"text-yellow-600\",\n      bg: \"bg-yellow-100\"\n    };\n    return {\n      level: \"High\",\n      color: \"text-red-600\",\n      bg: \"bg-red-100\"\n    };\n  };\n  const getRiskIcon = p => {\n    const prob = Number(p);\n    if (prob < 0.3) return /*#__PURE__*/_jsxDEV(TrendingDown, {\n      className: \"w-5 h-5 text-green-700\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 14\n    }, this);\n    if (prob < 0.7) return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n      className: \"w-5 h-5 text-yellow-700\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 14\n    }, this);\n    return /*#__PURE__*/_jsxDEV(TrendingUp, {\n      className: \"w-5 h-5 text-red-700\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  };\n  const filtered = predictions.filter(p => {\n    var _p$inputData$age$toSt, _p$inputData, _p$inputData$age, _p$inputData2, _p$inputData3, _p$predictionResult;\n    const search = searchTerm.toLowerCase();\n    const age = (_p$inputData$age$toSt = (_p$inputData = p.inputData) === null || _p$inputData === void 0 ? void 0 : (_p$inputData$age = _p$inputData.age) === null || _p$inputData$age === void 0 ? void 0 : _p$inputData$age.toString()) !== null && _p$inputData$age$toSt !== void 0 ? _p$inputData$age$toSt : \"\";\n    const gender = ((_p$inputData2 = p.inputData) === null || _p$inputData2 === void 0 ? void 0 : _p$inputData2.sex) === 1 ? \"male\" : ((_p$inputData3 = p.inputData) === null || _p$inputData3 === void 0 ? void 0 : _p$inputData3.sex) === 0 ? \"female\" : \"\";\n    const matchesSearch = age.includes(search) || gender.includes(search.toLowerCase());\n    const risk = getRiskLevel((_p$predictionResult = p.predictionResult) === null || _p$predictionResult === void 0 ? void 0 : _p$predictionResult.probability).level.toLowerCase();\n    const matchesRisk = filterRisk === \"all\" || filterRisk === risk;\n    return matchesSearch && matchesRisk;\n  }).sort((a, b) => {\n    var _b$predictionResult, _a$predictionResult, _a$inputData, _b$inputData;\n    if (sortBy === \"date\") return new Date(b.createdAt) - new Date(a.createdAt);\n    if (sortBy === \"risk\") return Number((_b$predictionResult = b.predictionResult) === null || _b$predictionResult === void 0 ? void 0 : _b$predictionResult.probability) - Number((_a$predictionResult = a.predictionResult) === null || _a$predictionResult === void 0 ? void 0 : _a$predictionResult.probability);\n    if (sortBy === \"age\") return Number((_a$inputData = a.inputData) === null || _a$inputData === void 0 ? void 0 : _a$inputData.age) - Number((_b$inputData = b.inputData) === null || _b$inputData === void 0 ? void 0 : _b$inputData.age);\n    return 0;\n  });\n  const stats = {\n    total: filtered.length,\n    low: filtered.filter(p => {\n      var _p$predictionResult2;\n      return ((_p$predictionResult2 = p.predictionResult) === null || _p$predictionResult2 === void 0 ? void 0 : _p$predictionResult2.probability) < 0.3;\n    }).length,\n    moderate: filtered.filter(p => {\n      var _p$predictionResult3, _p$predictionResult4;\n      return ((_p$predictionResult3 = p.predictionResult) === null || _p$predictionResult3 === void 0 ? void 0 : _p$predictionResult3.probability) >= 0.3 && ((_p$predictionResult4 = p.predictionResult) === null || _p$predictionResult4 === void 0 ? void 0 : _p$predictionResult4.probability) < 0.7;\n    }).length,\n    high: filtered.filter(p => {\n      var _p$predictionResult5;\n      return ((_p$predictionResult5 = p.predictionResult) === null || _p$predictionResult5 === void 0 ? void 0 : _p$predictionResult5.probability) >= 0.7;\n    }).length\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-10 px-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold mb-2\",\n        children: \"Prediction History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-8\",\n        children: \"A timeline of all your predictions with risk levels and insights.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(StatCard, {\n          color: \"blue\",\n          title: \"Total Predictions\",\n          value: stats.total,\n          icon: /*#__PURE__*/_jsxDEV(Clock, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 86\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          color: \"green\",\n          title: \"Low Risk\",\n          value: stats.low,\n          icon: /*#__PURE__*/_jsxDEV(TrendingDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          color: \"yellow\",\n          title: \"Moderate Risk\",\n          value: stats.moderate,\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 87\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          color: \"red\",\n          title: \"High Risk\",\n          value: stats.high,\n          icon: /*#__PURE__*/_jsxDEV(TrendingUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-xl shadow mb-6 flex flex-col md:flex-row gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input pl-12\",\n            placeholder: \"Search by age or gender...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"input\",\n          value: filterRisk,\n          onChange: e => setFilterRisk(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"low\",\n            children: \"Low Risk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"moderate\",\n            children: \"Moderate Risk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"high\",\n            children: \"High Risk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"input\",\n          value: sortBy,\n          onChange: e => setSortBy(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"date\",\n            children: \"Sort by Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"risk\",\n            children: \"Sort by Risk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"age\",\n            children: \"Sort by Age\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow overflow-hidden\",\n        children: filtered.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyState, {\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this) : filtered.map(p => /*#__PURE__*/_jsxDEV(PredictionCard, {\n          p: p,\n          getRiskLevel: getRiskLevel,\n          getRiskIcon: getRiskIcon,\n          navigate: navigate\n        }, p._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/prediction\"),\n          className: \"btn btn-primary\",\n          children: \"Start New Prediction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n\n/* --------------------- COMPONENTS --------------------- */\n_s(History, \"/weVCNvYpBcP17D++ulD3Cz4tCU=\", false, function () {\n  return [useNavigate];\n});\n_c = History;\nconst StatCard = ({\n  title,\n  value,\n  icon,\n  color\n}) => {\n  const colors = {\n    blue: \"bg-blue-100 text-blue-700\",\n    green: \"bg-green-100 text-green-700\",\n    yellow: \"bg-yellow-100 text-yellow-700\",\n    red: \"bg-red-100 text-red-700\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-xl shadow hover:shadow-lg transition\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-3 rounded-lg ${colors[color]}`,\n        children: icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_c2 = StatCard;\nconst PredictionCard = ({\n  p,\n  getRiskLevel,\n  getRiskIcon,\n  navigate\n}) => {\n  var _p$predictionResult6, _p$inputData4, _p$inputData5, _p$inputData6, _p$predictionResult7, _p$predictionResult8;\n  const r = getRiskLevel((_p$predictionResult6 = p.predictionResult) === null || _p$predictionResult6 === void 0 ? void 0 : _p$predictionResult6.probability);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 border-b hover:bg-gray-50 transition cursor-pointer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-3 py-1 rounded-full text-sm font-medium ${r.bg} ${r.color} flex items-center gap-1`,\n            children: [getRiskIcon(p.predictionResult.probability), r.level, \" Risk\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: new Date(p.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Info, {\n            label: \"Age\",\n            value: (_p$inputData4 = p.inputData) === null || _p$inputData4 === void 0 ? void 0 : _p$inputData4.age\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Info, {\n            label: \"Gender\",\n            value: ((_p$inputData5 = p.inputData) === null || _p$inputData5 === void 0 ? void 0 : _p$inputData5.sex) === 1 ? \"Male\" : ((_p$inputData6 = p.inputData) === null || _p$inputData6 === void 0 ? void 0 : _p$inputData6.sex) === 0 ? \"Female\" : \"窶能"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Info, {\n            label: \"Probability\",\n            value: (((_p$predictionResult7 = p.predictionResult) === null || _p$predictionResult7 === void 0 ? void 0 : _p$predictionResult7.probability) * 100).toFixed(1) + \"%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Info, {\n            label: \"Confidence\",\n            value: ((_p$predictionResult8 = p.predictionResult) === null || _p$predictionResult8 === void 0 ? void 0 : _p$predictionResult8.confidence) || \"窶能"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), p.dietPlan && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 p-3 bg-green-50 text-green-800 rounded-lg text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Diet Plan:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), \" \", p.dietPlan.specific || p.dietPlan.general]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/prediction-result\", {\n          state: {\n            prediction: p\n          }\n        }),\n        className: \"btn btn-outline btn-sm\",\n        children: /*#__PURE__*/_jsxDEV(Eye, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n};\n_c3 = PredictionCard;\nconst Info = ({\n  label,\n  value\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"text-gray-600\",\n    children: [label, \": \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"font-semibold\",\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 262,\n  columnNumber: 3\n}, this);\n_c4 = Info;\nconst EmptyState = ({\n  navigate\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"py-20 text-center\",\n  children: [/*#__PURE__*/_jsxDEV(Heart, {\n    className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-xl font-semibold\",\n    children: \"No Predictions Found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-gray-500 mb-4\",\n    children: \"Make your first prediction to start tracking your results.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => navigate(\"/prediction\"),\n    className: \"btn btn-primary\",\n    children: \"Start Now\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 269,\n  columnNumber: 3\n}, this);\n_c5 = EmptyState;\nexport default History;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"History\");\n$RefreshReg$(_c2, \"StatCard\");\n$RefreshReg$(_c3, \"PredictionCard\");\n$RefreshReg$(_c4, \"Info\");\n$RefreshReg$(_c5, \"EmptyState\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Clock","Heart","Download","Eye","Search","TrendingUp","TrendingDown","AlertTriangle","toast","jsxDEV","_jsxDEV","History","_s","navigate","predictions","setPredictions","isLoading","setIsLoading","searchTerm","setSearchTerm","filterRisk","setFilterRisk","sortBy","setSortBy","fetchHistory","res","fetch","headers","Authorization","localStorage","getItem","data","json","list","Array","isArray","err","console","error","getRiskLevel","p","prob","Number","level","color","bg","getRiskIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","filtered","filter","_p$inputData$age$toSt","_p$inputData","_p$inputData$age","_p$inputData2","_p$inputData3","_p$predictionResult","search","toLowerCase","age","inputData","toString","gender","sex","matchesSearch","includes","risk","predictionResult","probability","matchesRisk","sort","a","b","_b$predictionResult","_a$predictionResult","_a$inputData","_b$inputData","Date","createdAt","stats","total","length","low","_p$predictionResult2","moderate","_p$predictionResult3","_p$predictionResult4","high","_p$predictionResult5","children","StatCard","title","value","icon","type","placeholder","onChange","e","target","EmptyState","map","PredictionCard","_id","onClick","_c","colors","blue","green","yellow","red","_c2","_p$predictionResult6","_p$inputData4","_p$inputData5","_p$inputData6","_p$predictionResult7","_p$predictionResult8","r","toLocaleString","Info","label","toFixed","confidence","dietPlan","specific","general","state","prediction","_c3","_c4","_c5","$RefreshReg$"],"sources":["C:/Users/dhanu/OneDrive/Desktop/Major__Project/Heart_Guard/client/src/pages/History.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Clock,\r\n  Heart,\r\n  Download,\r\n  Eye,\r\n  Search,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  AlertTriangle,\r\n} from \"lucide-react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst History = () => {\r\n  const navigate = useNavigate();\r\n  const [predictions, setPredictions] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterRisk, setFilterRisk] = useState(\"all\");\r\n  const [sortBy, setSortBy] = useState(\"date\");\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  const fetchHistory = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/prediction/history\", {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n\r\n      const data = await res.json();\r\n      const list = Array.isArray(data.predictions) ? data.predictions : [];\r\n      setPredictions(list);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Failed to load history\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getRiskLevel = (p) => {\r\n    const prob = Number(p);\r\n    if (prob < 0.3)\r\n      return {\r\n        level: \"Low\",\r\n        color: \"text-green-600\",\r\n        bg: \"bg-green-100\",\r\n      };\r\n    if (prob < 0.7)\r\n      return {\r\n        level: \"Moderate\",\r\n        color: \"text-yellow-600\",\r\n        bg: \"bg-yellow-100\",\r\n      };\r\n    return {\r\n      level: \"High\",\r\n      color: \"text-red-600\",\r\n      bg: \"bg-red-100\",\r\n    };\r\n  };\r\n\r\n  const getRiskIcon = (p) => {\r\n    const prob = Number(p);\r\n    if (prob < 0.3)\r\n      return <TrendingDown className=\"w-5 h-5 text-green-700\" />;\r\n    if (prob < 0.7)\r\n      return <AlertTriangle className=\"w-5 h-5 text-yellow-700\" />;\r\n    return <TrendingUp className=\"w-5 h-5 text-red-700\" />;\r\n  };\r\n\r\n  const filtered = predictions\r\n    .filter((p) => {\r\n      const search = searchTerm.toLowerCase();\r\n      const age = p.inputData?.age?.toString() ?? \"\";\r\n      const gender =\r\n        p.inputData?.sex === 1 ? \"male\" : p.inputData?.sex === 0 ? \"female\" : \"\";\r\n\r\n      const matchesSearch =\r\n        age.includes(search) || gender.includes(search.toLowerCase());\r\n\r\n      const risk = getRiskLevel(p.predictionResult?.probability).level.toLowerCase();\r\n      const matchesRisk = filterRisk === \"all\" || filterRisk === risk;\r\n\r\n      return matchesSearch && matchesRisk;\r\n    })\r\n    .sort((a, b) => {\r\n      if (sortBy === \"date\") return new Date(b.createdAt) - new Date(a.createdAt);\r\n      if (sortBy === \"risk\")\r\n        return (\r\n          Number(b.predictionResult?.probability) -\r\n          Number(a.predictionResult?.probability)\r\n        );\r\n      if (sortBy === \"age\")\r\n        return Number(a.inputData?.age) - Number(b.inputData?.age);\r\n      return 0;\r\n    });\r\n\r\n  const stats = {\r\n    total: filtered.length,\r\n    low: filtered.filter((p) => p.predictionResult?.probability < 0.3).length,\r\n    moderate: filtered.filter(\r\n      (p) =>\r\n        p.predictionResult?.probability >= 0.3 &&\r\n        p.predictionResult?.probability < 0.7\r\n    ).length,\r\n    high: filtered.filter((p) => p.predictionResult?.probability >= 0.7).length,\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-10 px-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <h1 className=\"text-4xl font-bold mb-2\">Prediction History</h1>\r\n        <p className=\"text-gray-600 mb-8\">\r\n          A timeline of all your predictions with risk levels and insights.\r\n        </p>\r\n\r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n          <StatCard color=\"blue\" title=\"Total Predictions\" value={stats.total} icon={<Clock />} />\r\n          <StatCard color=\"green\" title=\"Low Risk\" value={stats.low} icon={<TrendingDown />} />\r\n          <StatCard color=\"yellow\" title=\"Moderate Risk\" value={stats.moderate} icon={<AlertTriangle />} />\r\n          <StatCard color=\"red\" title=\"High Risk\" value={stats.high} icon={<TrendingUp />} />\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"bg-white p-6 rounded-xl shadow mb-6 flex flex-col md:flex-row gap-4\">\r\n          <div className=\"flex-1 relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              className=\"input pl-12\"\r\n              placeholder=\"Search by age or gender...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <select className=\"input\" value={filterRisk} onChange={(e) => setFilterRisk(e.target.value)}>\r\n            <option value=\"all\">All</option>\r\n            <option value=\"low\">Low Risk</option>\r\n            <option value=\"moderate\">Moderate Risk</option>\r\n            <option value=\"high\">High Risk</option>\r\n          </select>\r\n\r\n          <select className=\"input\" value={sortBy} onChange={(e) => setSortBy(e.target.value)}>\r\n            <option value=\"date\">Sort by Date</option>\r\n            <option value=\"risk\">Sort by Risk</option>\r\n            <option value=\"age\">Sort by Age</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Predictions List */}\r\n        <div className=\"bg-white rounded-xl shadow overflow-hidden\">\r\n          {filtered.length === 0 ? (\r\n            <EmptyState navigate={navigate} />\r\n          ) : (\r\n            filtered.map((p) => (\r\n              <PredictionCard\r\n                key={p._id}\r\n                p={p}\r\n                getRiskLevel={getRiskLevel}\r\n                getRiskIcon={getRiskIcon}\r\n                navigate={navigate}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"text-center mt-10\">\r\n          <button\r\n            onClick={() => navigate(\"/prediction\")}\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Start New Prediction\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/* --------------------- COMPONENTS --------------------- */\r\n\r\nconst StatCard = ({ title, value, icon, color }) => {\r\n  const colors = {\r\n    blue: \"bg-blue-100 text-blue-700\",\r\n    green: \"bg-green-100 text-green-700\",\r\n    yellow: \"bg-yellow-100 text-yellow-700\",\r\n    red: \"bg-red-100 text-red-700\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-xl shadow hover:shadow-lg transition\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className={`p-3 rounded-lg ${colors[color]}`}>{icon}</div>\r\n        <div>\r\n          <p className=\"text-gray-600\">{title}</p>\r\n          <p className=\"text-3xl font-bold\">{value}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PredictionCard = ({ p, getRiskLevel, getRiskIcon, navigate }) => {\r\n  const r = getRiskLevel(p.predictionResult?.probability);\r\n\r\n  return (\r\n    <div className=\"p-6 border-b hover:bg-gray-50 transition cursor-pointer\">\r\n      <div className=\"flex justify-between items-start\">\r\n        <div>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <span className={`px-3 py-1 rounded-full text-sm font-medium ${r.bg} ${r.color} flex items-center gap-1`}>\r\n              {getRiskIcon(p.predictionResult.probability)}\r\n              {r.level} Risk\r\n            </span>\r\n            <span className=\"text-gray-500\">\r\n              {new Date(p.createdAt).toLocaleString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n            <Info label=\"Age\" value={p.inputData?.age} />\r\n            <Info\r\n              label=\"Gender\"\r\n              value={p.inputData?.sex === 1 ? \"Male\" : p.inputData?.sex === 0 ? \"Female\" : \"窶能"}\r\n            />\r\n            <Info\r\n              label=\"Probability\"\r\n              value={(p.predictionResult?.probability * 100).toFixed(1) + \"%\"}\r\n            />\r\n            <Info\r\n              label=\"Confidence\"\r\n              value={p.predictionResult?.confidence || \"窶能"}\r\n            />\r\n          </div>\r\n\r\n          {p.dietPlan && (\r\n            <div className=\"mt-3 p-3 bg-green-50 text-green-800 rounded-lg text-sm\">\r\n              <strong>Diet Plan:</strong> {p.dietPlan.specific || p.dietPlan.general}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={() => navigate(\"/prediction-result\", { state: { prediction: p } })}\r\n          className=\"btn btn-outline btn-sm\"\r\n        >\r\n          <Eye className=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Info = ({ label, value }) => (\r\n  <div>\r\n    <span className=\"text-gray-600\">{label}: </span>\r\n    <span className=\"font-semibold\">{value}</span>\r\n  </div>\r\n);\r\n\r\nconst EmptyState = ({ navigate }) => (\r\n  <div className=\"py-20 text-center\">\r\n    <Heart className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n    <h2 className=\"text-xl font-semibold\">No Predictions Found</h2>\r\n    <p className=\"text-gray-500 mb-4\">\r\n      Make your first prediction to start tracking your results.\r\n    </p>\r\n    <button onClick={() => navigate(\"/prediction\")} className=\"btn btn-primary\">\r\n      Start Now\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default History;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}